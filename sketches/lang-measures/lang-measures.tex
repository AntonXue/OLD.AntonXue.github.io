\documentclass[12pt]{article}

% Packages
\usepackage[margin=5em]{geometry} % 1 cm = 2.84528 em
\usepackage[backend=bibtex]{biblatex}
\bibliography{sources}
% \nocite{*}

\usepackage{lipsum}

% Paragraphs
\setlength{\parindent}{0em}
\setlength{\parskip}{1em}

% Includes
\input{antonxue-lib.tex}
\input{lang-lib.tex}


% Author
\title{Slicing-Based Measures on Formal Languages}
% \author{Anton Xue}
% \date{\today}
\date{}

% Document
\begin{document}
\maketitle

\section{Introduction}
In this sketch we study
measure spaces on formal languages and a few consequences.

\section{Preliminaries}

\subsection{Measure Theory}
Let \(X\) be a set.
A \(\sigma\)-algebra \(\Sigma \subseteq \powset{X}\) is a set that
satisfies the following:
\begin{enumerate}
  \item[(a)]
    \(\emptyset \in \Sigma\) and \(X \in \Sigma\).

  \item[(b)]
    If \(A \in \Sigma\), then \(X \setminus A \in \Sigma\).

  \item[(c)]
    If \(\parens{A_n} \subseteq \Sigma\) is a countable collection of sets,
    then:
    \begin{align*}
      \bigcup_{n = 1}^{\infty} A_n \in \Sigma
    \end{align*}

\end{enumerate}
The pairing \(\parens{X, \Sigma}\) is called a measureable space.

A measure is a function \(\type{\mu}{\Sigma}{\Rz}\) such that:
\begin{enumerate}
  \item[(a)]
    \(\mu\parens{\emptyset} = 0\)

  \item[(b)]
    If \(\parens{A_n} \subseteq \Sigma\) is a countable collection
    of pairwise disjoint sets, then:
    \begin{align*}
      \mu\parens{\bigcup_{n = 1}^{\infty} A_n}
        = \sum_{n = 1}^{\infty} \mu\parens{A_n}
    \end{align*}
\end{enumerate}
Together \(\parens{X, \Sigma, \mu}\) is called a measure space.



\subsection{Formal Language Theory}
An alphabet \(\Sigma\) is a finite set of symbols.
A finite word \(w\) is a finite sequence of symbols from \(\Sigma\),
and let \(\emptyset\) denote the empty word, which is also finite.
The length of a word is written \(\abs{w}\).
Write \(\Sigma^n\) to mean the set of all words of length \(n\),
and write \(\Sigma^\star\) to mean the set of all finite words.
A language \(L \subseteq \Sigma^\star\) is a set of words.


\subsection{Metric Spaces}
A metric space \(\parens{M, d}\) is a set \(M\) with a distance
\(\type{d}{M \times M}{\Rz}\) such that
for all \(x, y, z \in M\):
\begin{enumerate}
  \item[(a)]
    \(d\parens{x, y} \geq 0\)

  \item[(b)]
    \(d\parens{x, y} = 0\) if and only if \(x = y\)

  \item[(c)]
    \(d\parens{x, y} = d\parens{y, x}\)

  \item[(d)]
    \(d\parens{x, z} \leq d\parens{x, y} + d\parens{y, z}\)
\end{enumerate}


\section{Slicing-Based Measures}
Consider a language \(L \subseteq \Sigma^\star\).
The \(n\)-splice of a language written as \(L^n\) is defined as:
\begin{align*}
  L^n = L \cap \Sigma^n
\end{align*}
We then have the following relations:
\begin{align*}
  L
    = \bigcup_{n = 0}^{\infty} L^n
    = \bigcup_{n = 0}^{\infty} \parens{L \cap \Sigma^n}
    = L \cap \bigcup_{n = 0}^{\infty} \Sigma^n
    = L \cap \Sigma^\star
    = L
\end{align*}
Suppose that \(\parens{\N, \powset{\N}, \eta}\) is a probabiliy measure space
on \(\N\) with the probability measure \(\eta\),
one way to define a measure \(\lambda_{\eta}\)
is as follows:
\begin{align*}
  \lambda_{\eta} \parens{L}
    = \sum_{n = 0}^{\infty}
        \frac{\abs{L^n}}{\abs{\Sigma^n}} \eta\parens{n}
\end{align*}

\begin{theorem}
  \(\parens{\Sigma^\star, \powset{\Sigma^\star}, \lambda_{\eta}}\)
  is a measure space.
\end{theorem}
\begin{proof}
  Since the \(\powset{\Sigma^\star}\) is the largest \(\sigma\)-algebra
  on \(\Sigma^\star\), it suffices to show that \(\lambda_{\eta}\) is
  a measure.

  To see that \(\emptyset\) is mapped to \(0\):
  \begin{align*}
    \lambda_{\eta}\parens{\emptyset}
      = \sum_{n = 0}^{\infty} \frac{\abs{\emptyset}}{\abs{\Sigma^n}} \eta\parens{n}
      = \sum_{n = 0}^{\infty} 0
      = 0
  \end{align*}
  Now take \(\parens{A_n} \subseteq \Sigma^\star\) to be a countable
  collection of disjoint sets.
  Write \(A_n ^k\) to denote the \(k\) splice of the \(n\)th set.
  In other words: \begin{align*}
    A_n = \bigcup_{k = 0}^{\infty} A_{n} ^k
  \end{align*}
  Observe that all such \(A_{n}^k\) are pairwise disjoint by construction,
  and so:
  \begin{align*}
    \lambda_{\eta} \parens{\bigcup_{n = 0}^{\infty} A_n}
      = \lambda_{\eta} \parens{\bigcup_{n = 0}^{\infty} \bigcup_{k = 0}^{\infty} A_n ^k}
      = \sum_{n = 0}^{\infty} \lambda_{\eta} \parens{\bigcup_{k = 0}^{\infty} A_n ^k}
      = \sum_{n = 0}^{\infty} \sum_{k = 0}^{\infty} \frac{\abs{A_n ^k}}{\abs{\Sigma^n}} \eta\parens{k}
      = \sum_{n = 0}^{\infty} \lambda_{\eta} \parens{n}
  \end{align*}
  We conclude that \(\parens{\Sigma^\star, \powset{\Sigma^\star}, \lambda_{\eta}}\)
  forms a measure space.

\end{proof}
We can generalize this more.
Suppose that \(\nu = \parens{\nu_n}\)
is a countable collection of measures where
each \(\nu_n\) is defined on the splice \(\Sigma^n\).
Then we can extend a definition of \(\lambda_{\eta, \nu}\) as:
\begin{align*}
  \lambda_{\eta, \nu} \parens{A}
    = \sum_{n = 0}^{\infty} \nu\parens{A^n} \eta\parens{n}
\end{align*}

\begin{theorem}
  \(\parens{\Sigma^\star, \powset{\Sigma^\star}, \lambda_{\eta, \nu}}\)
  is a measure space.
\end{theorem}
\begin{proof}
  As with before, we only show that \(\lambda_{\eta, \nu}\) is a measure.

  For \(\emptyset\) we have again:
  \begin{align*}
    \lambda_{\eta, \nu}\parens{\emptyset} = \sum_{n = 0}^{\infty} 0 = 0
  \end{align*}

  Again take \(\parens{A_n} \subseteq \Sigma^\star\) to be a
  countable disjoint collection of sets,
  and \(A_n ^k\) to be the \(k\) splice of \(A_n\).
  Then:
  \begin{align*}
    \lambda_{\eta, \nu} \parens{\bigcup_{n = 0}^{\infty} A_n}
      = \lambda_{\eta, \nu} \parens{\bigcup_{n = 0}^{\infty} \bigcup_{k = 0}^{\infty} A_n ^k}
      = \sum_{n = 0}^{\infty} \lambda_{\eta, \nu} \parens{\bigcup_{k = 0}^{\infty} A_n ^k}
      = \sum_{n = 0}^{\infty} \sum_{k = 0}^{\infty} \nu_k \parens{A_n ^k} \eta\parens{k}
      = \sum_{n = 0}^{\infty} \lambda_{\eta, \nu} \parens{A_n}
  \end{align*}
  This shows that
  \(\parens{\Sigma^\star, \powset{\Sigma^\star}, \lambda_{\eta, \nu}}\)
  is a measure space.
\end{proof}


\section{Measure Induced Metrics}
For a measure space \(\parens{X, \Sigma, \mu}\),
an interesting consequence is that a
metric space can be defined on \(\Sigma^\star\)
as follows:
\begin{align*}
  d\parens{A, B} = \mu\parens{A \triangle B}
\end{align*}
Where \(\triangle\) is the symmetric set difference.
We now set out to show this.


\begin{lemma}
  \(\parens{A \triangle C}
          \subseteq \parens{A \triangle B} \cup \parens{B \triangle C}\).
\end{lemma}
\begin{proof}
  Observe that we may rewrite the above as follows:
  \begin{align*}
    \parens{A \setminus C} \cup \parens{C \setminus A}
      \subseteq
        \brackets{\parens{A \setminus B} \cup \parens{B \setminus C}} \cup
        \brackets{\parens{B \setminus A} \cup \parens{C \setminus B}}
  \end{align*}
  It then suffices to show that:
  \begin{align*}
    A \setminus C
      \subseteq \parens{A \setminus B} \cup \parens{B \setminus C}
    \qquad
    \qquad
    C \setminus A
      \subseteq \parens{B \setminus A} \cup \parens{C \setminus B}
  \end{align*}
  We take turns examining these.

      If \(x \in A \setminus C\), then this implies that \(x \in A\)
      and \(x \not\in C\).
      There are now two cases, where \(x \in B\) or \(x \not\in B\).
      First assume that \(x \in B\), which will imply that
      \(x \in B \setminus C\).
      Now assume that \(x \not\in B\), which will imply that
      \(x \in A \setminus B\).
      Either way, the implication is that
      \(x \in \parens{A \setminus B} \cup \parens{B \setminus C}\),
      and so it follows that
      \(A \setminus C
      \subseteq \parens{A \setminus B} \cup \parens{B \setminus C}\).

      If \(x \in C \setminus A\), then this implies that
      \(x \in C\) and \(x \not\in A\).
      The argument is similar to the above, in which either
      \(x \in B\) or \(x \not\in B\).
      If \(x \in B\), then \(x \in B \setminus A\),
      and otherwise if \(x \not\in B\) implies that
      \(x \in C \setminus B\).
      Collectively, the two imply that
      \(C \setminus A \subseteq
        \parens{B \setminus A} \cup \parens{C \setminus B}\).

  Collectively, this shows that
  \(\parens{A \triangle C}
          \subseteq \parens{A \triangle B} \cup \parens{B \triangle C}\).
\end{proof}


\begin{theorem}
  If \(\parens{X, \Sigma, \mu}\) is a measure space,
  then for \(\type{d}{\Sigma \times \Sigma}{\Rz}\) defined as:
  \begin{align*}
    d\parens{A, B} = \mu\parens{A \triangle B}
  \end{align*}
  Is a metric function.
\end{theorem}
\begin{proof}
  We prove the conditions necessary for a metric:
  identity, symmetry, and triangle inequality.

      As \(\mu\) is a measure, then for any \(A \in \Sigma\):
      \begin{align*}
        d\parens{A, A}
          = \mu\parens{A \triangle A}
          = \mu\parens{\emptyset} = 0
      \end{align*}

      By the symmetry of symmetric set difference, for any \(A, B \in \Sigma\):
      \begin{align*}
        d\parens{A, B}
          = \mu\parens{A \triangle B}
          = \mu\parens{B \triangle A}
          = d\parens{B, A}
      \end{align*}

      For any \(A, B, C \in \Sigma\),
      we have by convexity as shown in the lemma above:
      \begin{align*}
        A \triangle C \subseteq
          \parens{A \triangle B} \cup \parens{B \triangle C}
      \end{align*}
      Then by sub-additivity of measures:
      \begin{align*}
        d\parens{A, C}
          = \mu\parens{A \triangle C}
          \leq \mu\parens{
                \parens{A \triangle B} \cup \parens{B \triangle C}}
          \leq
          \mu\parens{A \triangle B} + \mu\parens{A \triangle C}
          = d\parens{A, B} + d\parens{B, C}
      \end{align*}
\end{proof}


Because \(\parens{\Sigma^\star, \powset{\Sigma^\star}, \lambda_{\eta, \nu}}\)
is a measure space,
the consequence is that for any 
languages \(L_1, L_2 \subseteq \Sigma^\star\),
we also have a metric space as defined above.



\end{document}

