
\section{Background}

We now introduce and give a quick overview of some of the relevant
background material.


\subsection{Regular Languages and Finite Automata}


A NFA is a tuple
\(\parens{\Sigma, Q, \delta, S, F}\)
that represents a finite state transition machine
which accepts or rejects strings.
Here \(\Sigma\) is the alphabet,
\(Q\) is the set of states,
\(\type{\Delta}{\Sigma \times Q}{\powset{Q}}\) is the transition function,
\(S \subseteq Q\) is the set of initial states,
and \(F \subseteq Q\) is the set of final states.

A NFA accepts a string if there exists a sequence of transition
starting from some \(q_s \in S\)
that ends in \(q_f \in F\).
As the transition function maps to a set of possible states that may
be arbitrarily chosen,
only the existence of a transition sequence is necessary,
hence the term non-deterministic.

The size of an NFA is the number of states \(\abs{Q}\).

\begin{example}[NFA]
  The NFA below operators over the binary alphabet
  \(\Sigma = \braces{0, 1}\).

  \begin{center}
  \begin{tikzpicture}
    [->,
     >=stealth',
     shorten >=1pt,
     auto,
     node distance=2cm,
     semithick,
     state/.style={circle, draw, minimum size=1cm} 
    ]

    \node[state, initial] (q0) at (0, 2) {\(q_0\)};
    \node[state] (q1) at (4, 4) {\(q_1\)};
    \node[state, accepting] (q2) at (4, 0) {\(q_2\)};

    \draw (q0) edge [above] node{\(0\)} (q1);
    \draw (q1) edge [left] node{\(1\)} (q2);
    \draw (q0) edge [below] node{\(0\)} (q2);
  \end{tikzpicture}
  \end{center}
  Here we would have the following configuration:
  \begin{align*}
    \Sigma &= \braces{0, 1} \\
    Q &= \braces{q_0, q_1, q_2} \\
    \Delta &=
      \braces{\parens{\parens{0, q_0}, \braces{q_1, q_2}}, \uspace
              \parens{\parens{1, q_1}, \braces{q_2}}} \\
    S &= \braces{q_0} \\
    F &= \braces{q_2}
  \end{align*}

  Of course the size of this NFA is \(\abs{Q} = 3\).

  In order for a NFA to accept a string, there must exist a sequence
  of transitions (which may be non-unique).
  This particular NFA accepts precisely two strings:
  \begin{enumerate}
    \item[(1)]
      The string \(0\) through the transition sequence \(q_0 q_2\).

    \item[(2)]
      The string \(01\) through the transition sequence \(q_0 q_1 q_2\).
  \end{enumerate}
  Note that from state \(q_0\) there are two out-edges that
  are both labeled with \(0\).
  This is what differentiates an NFA from a
  deterministic finite automata (DFA).
  In an NFA, out-edges from the same vertex may have shared labels,
  but in a DFA all out-edges from the same vertex may not share labels.

\end{example}



A very nice property about regular languages
is that they are closed under the basic set operations of
complementation, union, and intersection,
with only polynomial complexity in representation changes:
be it regular expressions or NFAs.

We sketch a quick illustration for why infinite set operations may not work.
Suppose that we define a sequence of languages over
\(\Sigma = \braces{a, b}\) as follows:
\begin{align*}
  L_1 = \braces{ab}
  \qquad \qquad
  L_2 = \braces{aabb}
  \qquad \qquad
  L_3 = \braces{aaabbb}
  \qquad \qquad
  \ldots
\end{align*}
Then the union effectively describes the following language:
\begin{align*}
  \bigcup_{k = 1}^{\infty} L_k = \braces{a^k b^k \st k \in \Zp}
\end{align*}
where \(a^k b^k\) is short-hand for a string that is
\(k\) consecutive \(a\)'s followed by \(k\) consecutive \(b\)'s.
It is known that such a language is not regular,
and this is therefore an example where regular languages
are not closed under infinite set operations.




\subsection{Metric Spaces}

The concept of a distance is formalized in mathematics through a metric space.
A metric space is a pair \(\parens{M, d}\) where \(M\) is a set
and \(\type{d}{M \times M}{\R}\) is known as the metric, or distance,
function that aims to assign a distance between any two members of \(M\).
A metric space comes equipped with the following axioms
that must hold for any \(x, y, z \in M\):
\begin{enumerate}
  \item[(1)]
    Non-negativity of \(d\): \(d\parens{x, y} \geq 0\).

  \item[(2)]
    Identity of indiscernibles:
    \(d\parens{x, y} = 0\) if and only if \(x = y\).

  \item[(3)]
    Symmetry:
    \(d\parens{x, y} = d\parens{y, x}\).

  \item[(4)]
    Triangle inequality:
    \(d\parens{x, z} \leq d\parens{x, y} + d\parens{y, z}\).

\end{enumerate}


\begin{example}[Euclidean Metric]
  For some \(x \in \R^n\),
  let \(x_i\) be the \(i\)th coordinate of the vector.
  Then the Euclidean (L2) metric is defined by
  \begin{align*}
    d\parens{x, y}
      = \sqrt{\sum_{i = 1}^{n} \parens{x_i - y_i}^2}
  \end{align*}
\end{example}


\subsection{Measure Theory}

In mathematical analysis, measure theory is concerned with
the rigorous formulation of ``size''.
Such notions of size have application in generalizations of
familiar concepts such as length, area, and volume,
as well as integration theory.
Informally, for a set \(X\),
the goal of measure theory is to assign a measure (size) to subsets of \(X\).
Often \(X\) is taken to be a space like \(\R^n\),
and common examples of subsets include intervals, rectangles, or boxes.


Formally, a measurable space is a pair
\(\parens{X, \mcal{E}}\) where
\(X\) is a set and \(\mcal{E} \subseteq \powset{X}\) is called
a \(\sigma\)-algebra on \(X\) that satisfies the following properties:
\begin{enumerate}
  \item[(1)]
    Inclusion of empty set and whole space: \(\emptyset, X \in \mcal{E}\).

  \item[(2)]
    Closure under relative complement:
    \(E^c \in \mcal{E}\) if \(E \in \mcal{E}\).
    Take \(E^c = X \setminus E\).

  \item[(3)]
    Closure under countable unions:
    \(E_1, E_2, \ldots \in \mcal{E}\) implies that
    \begin{align*}
      \bigcup_{i = 1}^{\infty} E_i \in \mcal{E}
    \end{align*}

\end{enumerate}

The \(\sigma\)-algebra defined on \(X\) need not be unique.
For instance, the smallest \(\sigma\)-algebra for any set \(X\)
is \(\braces{\emptyset, X}\),
while the largest \(\sigma\)-algebra is the power set \(\powset{X}\).

If \(E\) belongs to the \(\sigma\)-algebra,
that is, \(E \in \mcal{E}\), we say that \(E\) is measurable.
Otherwise for some \(F \in \powset{X} \setminus \mcal{E}\)
we say that \(F\) is un-measurable.

A measurable space can be extended into a measure space by equipping a
measure \(\type{\mu}{\mcal{E}}{\R}\) to form a triple
\(\parens{X, \mcal{E}, \mu}\).
A measure satisfies the following properties:
\begin{enumerate}
  \item[(1)]
    Empty set has trivial measure: \(\mu\parens{\emptyset} = 0\).

  \item[(2)]
    Countable additivity:
    if \(E_1, E_2, \ldots \in \mcal{E}\) are pairwise disjoint, then
    \begin{align*}
      \mu\parens{\bigcup_{i = 1}^{\infty} E_i}
        = \sum_{i = 1}^{\infty} \mu\parens{E_i}
    \end{align*}

\end{enumerate}


\begin{example}[Lebesgue Measure]
  Consider the real line \(\R\)
  and some open interval \(\parens{a, b} \subseteq \R\) with \(a < b\).
  Intuitively one may want to assign the interval a size of
  equal to its length.
  In other words, the measure of \(\parens{a, b}\) should be \(b - a\).

  The idea of using lengths (also, area, volume, etc) as a way to measure
  the size of a set in \(\R^n\) gives rise to the Lebesgue measure
  \(\lambda\).
  But to formally define the Lebesgue measure, we must first
  define the Lebesgue outer measure
  \(\type{\lambda^\star}{\powset{\R}}{\R}\) as follows:
  
  In order to define the Lebesgue measure \(\lambda\),
  we first define the Lebesgue outer measure \(\lambda^\star\):
  \begin{align*}
    \lambda^\star \parens{E}
      = \inf\braces{\sum_{i = 1}^{\infty} \ell\parens{I_i} \st
                      \braces{\parens{I_i}}
                      \ \text{is a sequence of open intervals such that} \ 
                      E \subseteq \bigcup_{i = 1}^{\infty} {I_i}}
  \end{align*}
  Where \(\ell\parens{I_i}\) is the length of interval \(I_i\).

  The difference between an outer measure and a measure is that
  an outer measure is defined on the largest \(\sigma\)-algebra,
  in this case \(\powset{\R}\),
  while a measure tends to be defined on a restricted subset.

  The Lebesgue \(\sigma\)-algebra is a subset of \(\powset{\R}\) that
  is defined as the collection of all sets \(E\) such that
  for any \(A \subseteq \R\) the following property holds with respect
  to the Lebesgue outer-measure \(\lambda^\star\):
  \begin{align*}
    \lambda^\star \parens{E}
      = \lambda^\star \parens{A \cap E} + \lambda^\star \parens{A \cap E^c}
  \end{align*}
  This is called the Carath{\'e}odory criterion,
  and on such sets we set \(\lambda\parens{E} = \lambda^\star \parens{E}\).
  The proof that the Lebesgue measure is a measure can be found
  in texts on real analysis and measure theory.

\end{example}



\begin{example}[Counting Measure]
  Given a set \(X\),
  the counting measure is defined on \(\powset{X}\),
  and just counts the cardinality of each \(E \subseteq X\).
  The counting measure tends to see application in settings
  dealing with finite sets,
  although it can certainly be used for infinite sets.
\end{example}

\begin{example}[Probability Measure]
  Probability measures are measures
  defined on the probability measure space
  \(\parens{X, \Omega, \mu}\),
  where for the whole space \(\mu\parens{X} = 1\).
\end{example}



\subsection{Measure Induced Metric}

For a measure space \(\parens{X, \mcal{E}, \mu}\),
an interesting consequence is that a
metric space can be defined on \(\mcal{E}\)
as follows:
\begin{align*}
  d\parens{A, B} = \mu\parens{A \triangle B}
\end{align*}
Where \(\triangle\) is the symmetric set difference,
and the only set with measure \(0\) is \(\emptyset\).
We now set out to show this.


\begin{lemma}
  \(\parens{A \triangle C}
          \subseteq \parens{A \triangle B} \cup \parens{B \triangle C}\).
\end{lemma}
\begin{proof}
  Observe that we may rewrite the above as follows:
  \begin{align*}
    \parens{A \setminus C} \cup \parens{C \setminus A}
      \subseteq
        \brackets{\parens{A \setminus B} \cup \parens{B \setminus C}} \cup
        \brackets{\parens{B \setminus A} \cup \parens{C \setminus B}}
  \end{align*}
  It then suffices to show that:
  \begin{align*}
    A \setminus C
      \subseteq \parens{A \setminus B} \cup \parens{B \setminus C}
    \qquad
    \qquad
    C \setminus A
      \subseteq \parens{B \setminus A} \cup \parens{C \setminus B}
  \end{align*}
  We take turns examining these.

      If \(x \in A \setminus C\), then this implies that \(x \in A\)
      and \(x \not\in C\).
      There are now two cases, where \(x \in B\) or \(x \not\in B\).
      First assume that \(x \in B\), which will imply that
      \(x \in B \setminus C\).
      Now assume that \(x \not\in B\), which will imply that
      \(x \in A \setminus B\).
      Either way, the implication is that
      \(x \in \parens{A \setminus B} \cup \parens{B \setminus C}\),
      and so it follows that
      \(A \setminus C
      \subseteq \parens{A \setminus B} \cup \parens{B \setminus C}\).

      If \(x \in C \setminus A\), then this implies that
      \(x \in C\) and \(x \not\in A\).
      The argument is similar to the above, in which either
      \(x \in B\) or \(x \not\in B\).
      If \(x \in B\), then \(x \in B \setminus A\),
      and otherwise if \(x \not\in B\) implies that
      \(x \in C \setminus B\).
      Collectively, the two imply that
      \(C \setminus A \subseteq
        \parens{B \setminus A} \cup \parens{C \setminus B}\).

  Collectively, this shows that
  \(\parens{A \triangle C}
          \subseteq \parens{A \triangle B} \cup \parens{B \triangle C}\).
\end{proof}


\begin{theorem}
  If \(\parens{X, \mcal{E}, \mu}\) is a measure space,
  then for \(\type{d}{\mcal{E} \times \mcal{E}}{\Rz}\) defined as:
  \begin{align*}
    d\parens{A, B} = \mu\parens{A \triangle B}
  \end{align*}
  is a metric function.
\end{theorem}
\begin{proof}
  We prove the conditions necessary for a metric:
  identity, symmetry, and triangle inequality.

      As \(\mu\) is a measure, then for any \(A \in \mcal{E}\):
      \begin{align*}
        d\parens{A, A}
          = \mu\parens{A \triangle A}
          = \mu\parens{\emptyset} = 0
      \end{align*}

      By the symmetry of symmetric set difference,
      for any \(A, B \in \mcal{E}\):
      \begin{align*}
        d\parens{A, B}
          = \mu\parens{A \triangle B}
          = \mu\parens{B \triangle A}
          = d\parens{B, A}
      \end{align*}

      For any \(A, B, C \in \mcal{E}\),
      we have by convexity as shown in the lemma above:
      \begin{align*}
        A \triangle C \subseteq
          \parens{A \triangle B} \cup \parens{B \triangle C}
      \end{align*}
      Then by sub-additivity of measures:
      \begin{align*}
        d\parens{A, C}
          = \mu\parens{A \triangle C}
          \leq \mu\parens{
                \parens{A \triangle B} \cup \parens{B \triangle C}}
          \leq
          \mu\parens{A \triangle B} + \mu\parens{A \triangle C}
          = d\parens{A, B} + d\parens{B, C}
      \end{align*}
\end{proof}




